define(["app"],function(app){app.registerDirective("uiSuggestion",["$filter","$http",function(){return{restrict:"E",replace:!0,template:'<div class="ui-suggestion">\r\n	<input type="text" placeholder="{{placeholder}}" />\r\n	<div class="tooltip">\r\n		<ul>\r\n			{{districtNameList}}\r\n			<li ng-repeat="districtName in districtNameList" ng-model="districtNameList">\r\n				<b>新康</b>园\r\n				<cite>海淀区西三旗北路</cite>\r\n			</li>\r\n		</ul>\r\n	</div>\r\n</div>',scope:{placeholder:"@"},link:function($scope,element){var $input=element.find("input");$scope.districtNameList=[1,2];var timer=null;$input.on("keyup",function(){clearTimeout(timer),timer=setTimeout(function(){$.ajax({type:"get",async:!1,url:"http://suggest.58.com.cn/searchsuggest_6.do?inputbox=新康园&cityid=1&catid=8&type=1",dataType:"jsonp",jsonp:"callback",success:function(json){$scope.$watch("districtNameList",function(){$scope.districtNameList=json.w})},error:function(){}})},200)})}}}])});