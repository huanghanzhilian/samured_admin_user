define(["app","dict.cities","angular-upload-file","directive/jrDatepicker","directive/jrDropdownButton","directive/jrPlaceholder","angular-upload-file","directive/ngThumb","directive/fileModel"],function(app){app.registerController("CtrlalbumManagementAddVideoV1",["$scope","$rootScope","$http","$modal","$stateParams","$filter","$state","$sce","FileUploader","FileItem","$timeout",function($scope,$rootScope,$http,$modal,$stateParams){function getData(params){$http.get("/api/player/list",{params:$.extend({},params,{optDesc:"视频管理"})}).success(function(data){$scope.orders=data.object,$scope.resCode=data.resCode})}$scope.queryParams=$.extend({pageNum:1,pageSize:10},$stateParams),$scope.queryOptions={orderStatus:[{name:"全部",value:""},{name:"已发布",value:"6000"},{name:"待处理",value:"6100"}]},$scope.orders={pageNum:1,pageSize:10},getData($scope.queryParams),$scope.search=function(){$scope.queryParams.pageNum=1,getData($scope.queryParams)},$scope.clearParams=function(){var pageSize=$scope.queryParams.pageSize;$scope.queryParams={pageNum:1,pageSize:pageSize}},$scope.editList=function(event,order){var addModal=$modal.open({template:'\r\n<div class="modal-header" style="width: 100%">\r\n    <a href="javascript:void(0)" ng-click="$dismiss(\'cancel\')" class="modal-close"></a>\r\n    <h3 class="modal-title">基本信息编辑</h3>\r\n</div>\r\n    <div class="base-info-edit-main coop-flag">\r\n        <div class="clearfix">\r\n            <form name="searchForm" ng-submit="save($event)">\r\n                <ul style="overflow:visible">\r\n                    <li class="form-list clearfix">\r\n                        <label class="pull-left mr-20 form-lable-style before-xinghao hover" for="">视频名称：</label>\r\n                        <div class="pull-left pro-name-input">\r\n                            <input class="form-control" name="isRequired" maxlength="60" type="text" value="" />\r\n                        </div>\r\n                        <div class="beyond-word pull-left"><span>17</span>/60字</div>\r\n                    </li>\r\n\r\n                    <li class="form-list clearfix">\r\n                        <label class="form-lable-style-03" for="opt-02">使用自定义封面：</label>\r\n                        <div class="pl-100">\r\n                            <div class="pl-30">\r\n                                <div class="clearfix share-pic-box">\r\n                                    <div class="pull-left share-btn-img">\r\n                                        <!--<input>-->\r\n                                        <div id="custom" class="img">\r\n                                            <i class="icon-upload-add"></i>\r\n                                            <img>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="pull-left ml-10">\r\n                                        <p class="mt-25 color-aaacb8" style="line-height: 2">\r\n                                            建议尺寸比例为16：9；支持jpg、gif、png；<br>\r\n                                            大小不超过1M。\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <div class="cover-ready mt-10" id="initpic" style="display: block;">\r\n                                    <div class="blk-img">\r\n                                        <img id="initImg" src="http://i1.letvimg.com/lc04_lejunew/201711/15/18/46/sr942ahnds9g184633.jpg" height="70" width="125" alt="" xsrc="yes">\r\n                                    </div>\r\n                                    <p class="color-aaacb8 mt-10">等待上传...</p>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n\r\n\r\n                    <li class="form-list clearfix">\r\n                        <label class="pull-left mr-20 form-lable-style before-xinghao hover" for="">视频类型：</label>\r\n                        <div class="pull-left pro-name-input">\r\n                            <jr-dropdown-button id="companyProvinceCode" options="queryOptions.videolebel" value="\'1\'"></jr-dropdown-button>\r\n                        </div>\r\n                    </li>\r\n                    <li class="form-list clearfix">\r\n                        <label class="pull-left mr-20 form-lable-style before-xinghao hover" for="">视频状态：</label>\r\n                        <div class="pull-left pro-name-input">\r\n                            <jr-dropdown-button id="companyProvinceCode" options="queryOptions.videoStatus" value="\'1\'"></jr-dropdown-button>\r\n                        </div>\r\n                    </li>\r\n                    <li class="form-list clearfix">\r\n                        <label class="pull-left mr-20 form-lable-style before-xinghao hover" for="">视频标签：</label>\r\n                        <div class="pull-left pro-name-input">\r\n                            <input class="form-control" name="isRequired" maxlength="60" type="text" value="" required/>\r\n                        </div>\r\n                        <div class="beyond-word pull-left">最多5个标签，每个标签最多10个字符，标签之间用空格间隔</div>\r\n                    </li>\r\n                    <li class="form-list clearfix">\r\n                        <label class="pull-left mr-20 form-lable-style before-xinghao hover" for="">视频简介：</label>\r\n                        <div class="pull-left pro-name-input">\r\n                            <textarea class="form-control videoDesc" maxlength="500" cols="20" rows="6" placeholder=""></textarea>\r\n                            <!-- <input class="form-control" name="isRequired" maxlength="60" type="text" value="" required/> -->\r\n                        </div>\r\n                        <div class="beyond-word pull-left mt-45"><span>0</span>/500字</div>\r\n                    </li>\r\n                </ul>\r\n                <div class="tips mt-20">“ * ” 为必填！</div>\r\n                <div class="info-edit-bottom pt-30">\r\n                    <input class="btn-ipt-blue ml-30" type="submit" id="btnBasicInfoSave" name="" value="保存">\r\n                </div>\r\n            </form>\r\n        </div>\r\n        \r\n    </div>',controller:"AddCtrl",windowClass:"screen",resolve:{order:function(){return angular.copy(order)}}});addModal.result.then(function(){getData($scope.queryParams)})},app.registerController("AddCtrl",["$scope","$modalInstance","order",function($scope,$modalInstance,order){$scope.order=order,$scope.errorInfo="",$scope.submit=function(){var params={detailId:order.detailId,checkResult:"1",optDesc:"确认打款"};$http.get("/manage/repayingList-v4/json/get/checkWithDraw",{params:params}).success(function(res){$.modalAlert(res.message),$modalInstance.close()})}}]),$scope.deleteConfirm=function(){$.modalConfirm("你确认要删除吗？",function(){$.modalAlert("删除成功")})}}])});